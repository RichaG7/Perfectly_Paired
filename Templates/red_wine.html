<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Red Wine</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/5.5.0/d3.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Mulish&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="static/style.css">
    

</head>

<body>
    <div class="jumbotron card-image" id="redwine">
        <div class="row">
            <nav class="dropdown">
                <a class="dropbtn" href="/">PerfectlyPaired</a>
                <div class="dropdown-content">
                    <a href="/quality">White vs. Red Wine</a>
                    <a href="/reviews">Wine Reviews</a>
                    <a href="/reviews_2">Wine Variety</a>
                    <a href="/analysis">Behind the Scenes</a>
                </div>
            </nav>
        </div>
        <div class="container-fluid" id="header-redwhite">
            <div class="row">
                <div class="col-md-12">
                    <h1 style="color: rgb(252, 252, 241); font-size: 100px;">Red Wine Code</h1>
                </div>
            </div>
        </div>
    </div>
    <div class="container-fluid" style="margin: 0%; padding: 0%">
        <nav class="navbar" id="code-nav" style="width: 100%; margin: 0%; padding: 0%">
            <div class="container-fluid">
                <ul class="nav">
                    <li><a href="/red_wine">Red Wine</a></li>
                    <li><a href="/white_wine">White Wine</a></li>
                    <li><a href="/redwhitecode">Red vs. White</a></li>
                    <li><a href="/reviewscode">Wine Reviews</a></li>
                    <li><a href="/webdesign">Web Design</a></li>
                    <li><a href="/flask">Flask</a></li>
                </ul>
            </div>
        </nav>
    </div>
    <br>
    <div class="container-fluid">
        <div class="row" id="options">
            <div class="card" id="objective">
                <div class="card-header">
                    <h2 id="home-card"><strong>Objective</strong></h2>
                </div>
                <div class="card-body">
                    <h5 id="obj-body" style="font-size: 28px; padding: 1%"><b>Building a regression model that would predict quality of red wine based on 
                        physicochemical properties: Fixed acidity, volatile acidity, citric acid, residual sugar, chlorides, free sulfur dioxide, 
                        total sulfur dioxide, density, pH, sulphates, and alcohol.</b></h5>
                </div>
            </div>
        </div>
    </div>
    <div class="container-fluid">
        <div class="row" id="options">
            <div class="card" id="objective">
                <div class="card-header">
                    <h2 id="home-card"><strong>Exploring the Red Wine Dataset</strong></h2>
                </div>
                <div class="card-deck">
                    <img class="card-image-top" id="red1" src="{{url_for('static', filename='red-1.png')}}"/>
                    <div class="card-body" id="blurb">
                        <h5 id="obj-body">There are 1599 records in this dataset. 
                                        There are in total 12 variables, of which “quality” is our target that has a scale of 0-10.
                        </h5>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="container-fluid">
        <div class="row" id="options">
            <div class="card" id="objective">
                <div class="card-header">
                    <h2 id="home-card"><strong>Distribution of Each Variable</strong></h2>
                </div>
                <div class="card-deck">
                    <img class="card-image-top" id="red1" src="{{url_for('static', filename='red-2.png')}}">
                </div>
            </div>
        </div>
    </div>
    <div class="container-fluid">
        <div class="row" id="options">
            <div class="card" id="objective">
                <div class="card-header">
                    <h2 id="home-card"><strong>Correlation between Each Independent Variable and Quality</strong></h2>
                </div>
                <div class="card-deck">
                    <img class="card-image-top" id="red1" src="{{url_for('static', filename='red-3.png')}}">
                </div>
            </div>
        </div>
    </div>
    <div class="container-fluid">
        <div class="row" id="options">
            <div class="card" id="objective">
                <div class="card-header">
                    <h2 id="home-card"><strong>Visualizing the Correlation between Each Variable Using Seaborn Heatmap</strong></h2>
                </div>
                <div class="card-deck">
                    <img class="card-image-top" id="red1" src="{{url_for('static', filename='red-4.png')}}">
                </div>
            </div>
        </div>
    </div>
    <div class="container-fluid">
        <div class="row" id="options">
            <div class="card" id="objective">
                <div class="card-header">
                    <h2 id="home-card"><strong>Test Scores by Different Regression Models</strong></h2>
                </div>
                <div class="card-deck">
                    <div class="card-body">
                        <img class="card-image-top" id="red1" src="{{url_for('static', filename='red-5.png')}}">
                    </div>
                    <div class="card-body" id="blurb">
                        <h5 id="obj-body">For each model, data was split into training and testing data and were scaled and normalized using MinMaxScaler, which transforms each feature so that it lies within the range 0 and 1. <br><br>
                            Multiple Linear Regression: With Scikit-Learn, we created a model using Linear Regression, fitted the model to the training data, and quantified the model using the scaled data. Score came out to ~0.372, which is very low and weak.<br>
                            Proceeded to try other linear regression models, specifically Lasso, Ridge, and Elastic Net to see if we could improve our performance. <br><br>
                            
                            “Lasso will eliminate many features, and reduce overfitting in your linear model. Ridge will reduce the impact of features that are not important in predicting your y values. Elastic Net combines feature elimination from Lasso and feature coefficient reduction from the Ridge model to improve your model's predictions.”<br><br>
                            
                            However, results were not any better than what we got initially with our multiple linear regression model.<br><br>
                            
                            Next, we thought outliers could be an issue so we removed outliers and conducted the multiple linear regression model again to see if our model performed better. It only improved by 0.01, making no significant difference.<br>
                            Looking back to the seaborn heatmap we had created earlier, we noticed that there was some correlation between variables, and to address any multicollinearity in our dataset, we tested Principal Component Regression. Again, difference in score. <br><br>
                            Finally, after taking another closer look at our dataset, it seemed that none of the preceding models were fitting given that our output variable (quality) was ordinal. Hence, we thought an ordinal regression would be more appropriate and deliver a better model as “quality” is measured on a 10-point scale, with 0 being bad and 10 being excellent. Although not robust, we see a significant improvement in our score. <br>
                        </h5>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <br>
    <br>
    <div class="container">
        <div class="col-md-12 text-center">
            <a type="button" class="btn btn-primary" id="button" href="/white_wine" style="margin: auto" role="button"><b>Next:</b> White Wine</a>
        </div>
    </div>
    <br>
    <br>
    <br>
</body>